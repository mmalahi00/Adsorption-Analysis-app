# translations.py
import streamlit as st

# --- Internationalization Setup ---
TRANSLATIONS = {
    "fr": {
        # General App
        "app_page_title": "Analyse Adsorption D√©taill√©e",
        "app_title": "üî¨ Analyse D√©taill√©e de l'Adsorption",
        "app_subtitle": "Entrez vos donn√©es par type d'√©tude dans la barre lat√©rale et explorez les r√©sultats dans les onglets.",
        "language_select_label": "Langue / Language",

        # Sidebar
        "sidebar_header": "‚öôÔ∏è Param√®tres et Donn√©es d'Entr√©e",
        "sidebar_expander_calib": "1. √âtalonnage",
        "sidebar_calib_intro": "Concentration vs. Absorbance:",
        "sidebar_expander_isotherm": "2. √âtude Isotherme",
        "sidebar_isotherm_fixed_conditions": "Conditions fixes pour cette isotherme:",
        "sidebar_isotherm_mass_label": "Masse Ads. (g)",
        "sidebar_isotherm_mass_help": "Masse d'adsorbant utilis√©e",
        "sidebar_isotherm_volume_label": "Volume Sol. (L)",
        "sidebar_isotherm_volume_help": "Volume de la solution d'adsorbat",
        "sidebar_isotherm_c0_abs_intro": "Entrez C0 (variable) vs. Absorbance Eq.:",
        "sidebar_expander_kinetic": "5. √âtude Cin√©tique",
        "sidebar_kinetic_fixed_conditions": "Conditions fixes pour UNE exp√©rience cin√©tique:",
        "sidebar_kinetic_c0_help_const": "Concentration initiale constante",
        "sidebar_kinetic_mass_help_const": "Masse d'adsorbant constante",
        "sidebar_kinetic_volume_help_const": "Volume de solution constant",
        "sidebar_kinetic_time_abs_intro": "Entrez Temps (variable) vs. Absorbance(t):",
        "sidebar_expander_ph": "3. √âtude Effet pH",
        "sidebar_ph_fixed_conditions": "Conditions fixes pour l'√©tude du pH:",
        "sidebar_ph_ph_abs_intro": "Entrez pH (variable) vs. Absorbance Eq.:",
        "sidebar_expander_temp": "4. √âtude Effet Temp√©rature",
        "sidebar_temp_fixed_conditions": "Conditions fixes pour l'√©tude de la T¬∞:",
        "sidebar_temp_temp_abs_intro": "Entrez T¬∞ (variable) vs. Absorbance Eq.:",
        "sidebar_expander_dosage": "6. √âtude Dosage (Effet Masse)",
        "sidebar_dosage_fixed_conditions": "Conditions fixes pour l'√©tude de la masse:",
        "sidebar_dosage_mass_abs_intro": "Entrez Masse Ads. vs. Absorbance Eq.:",

        # Data Editor Column Configs
        "col_concentration_help": "Concentration standard (mg/L ou unit√© √©quivalente)",
        "col_absorbance": "Absorbance",
        "col_absorbance_help": "Absorbance mesur√©e correspondante",
        "col_c0_help": "Concentration initiale de l'adsorbat",
        "col_abs_eq_help": "Absorbance mesur√©e √† l'√©quilibre",
        "col_time_min": "Temps (min)",
        "col_time_min_help": "Temps √©coul√© depuis le d√©but",
        "col_abs_t_help": "Absorbance mesur√©e au temps t",
        "col_ph_help": "pH variable de l'exp√©rience",
        "col_temp_c_help": "Temp√©rature variable de l'exp√©rience",
        "col_mass_ads_g_help_variable": "Masse variable d'adsorbant utilis√©e",

        # Validation Messages
        "validate_missing_cols_warning": "Colonnes requises manquantes: {missing_cols}. Veuillez les ajouter.",
        "validate_col_not_found_error": "Colonne requise '{col}' introuvable pendant la validation.",
        "validate_mass_non_positive_warning": "La colonne 'Masse_Adsorbant_g' contient des valeurs non positives. Ces lignes seront ignor√©es.",
        "validate_volume_non_positive_warning": "La colonne 'Volume_L' contient des valeurs non positives. Ces lignes seront ignor√©es.",
        "validate_n_valid_points_success": "{count} points valides.",
        "validate_no_valid_points_warning": "Aucun point valide apr√®s conversion num√©rique et filtrage. V√©rifiez vos entr√©es.",
        "validate_error_message": "Erreur de validation: {error}",
        "validate_enter_data_info": "Entrez au moins un point de donn√©es.",

        # Calibration Specific
        "calib_slope_near_zero_warning": "Pente de calibration proche de z√©ro. V√©rifiez les donn√©es.",
        "calib_error_calc_warning": "Erreur calcul calibration: {error}",

        # Main Area
        "main_results_header": "üìä R√©sultats et Analyses",
        "tab_calib": " √âtalonnage ",
        "tab_isotherm": " Isothermes ",
        "tab_kinetic": " Cin√©tique ",
        "tab_ph": " Effet pH ",
        "tab_dosage": " Dosage ",
        "tab_temp": " Effet T¬∞ ",
        "tab_thermo": " Thermodynamique ",

        # Calibration Tab
        "calib_tab_subheader": "Courbe d'√âtalonnage",
        "calib_tab_plot_title": "Absorbance en fonction de la concentration",
        "calib_tab_legend_exp": "Points exp√©rimentaux",
        "calib_tab_legend_reg": "R√©gression lin√©aire",
        "calib_tab_styled_xaxis_label": "La concentration (mg/l)",
        "download_png_button": "üì• T√©l√©charger la Figure (PNG)",
        "calib_tab_download_styled_png_filename": "etalonnage_stylise.png",
        "calib_tab_params_header": "Param√®tres de Calibration",
        "calib_tab_slope_metric": "Pente (A / (mg/L))",
        "calib_tab_r2_metric": "Coefficient de D√©termination (R¬≤)",
        "calib_tab_min_2_points_warning": "Au moins 2 points de donn√©es valides sont requis pour la calibration.",
        "calib_tab_params_not_calc_warning": "Les param√®tres de calibration n'ont pas pu √™tre calcul√©s. V√©rifiez les donn√©es.",
        "calib_tab_raw_data_plot_title": "Donn√©es d'√âtalonnage Brutes",
        "calib_tab_enter_data_info": "Entrez des donn√©es d'√©talonnage valides dans la barre lat√©rale.",
        "calib_plot_error_warning": "Erreur lors de la cr√©ation du graphique d'√©tealonage: {e_plot}",


        # Isotherm Tab
        "isotherm_tab_subheader": "Analyse de l'Isotherme d'Adsorption",
        "isotherm_spinner_ce_qe": "Calcul Ce/qe pour isothermes...",
        "isotherm_error_slope_zero": "Erreur lors du calcul Ce/qe: Pente de calibration nulle ou proche de z√©ro.",
        "isotherm_error_mass_non_positive": "Masse d'adsorbant non positive ({m_adsorbant}g) pour C0={c0}. Ce point sera ignor√©.",
        "isotherm_warning_no_valid_points": "Aucun point de donn√©es isotherme valide apr√®s calcul Ce/qe et v√©rification de la masse.",
        "isotherm_success_ce_qe_calc": "Calcul Ce/qe pour isothermes termin√©.",
        "isotherm_error_div_by_zero": "Erreur lors du calcul Ce/qe: Division par z√©ro d√©tect√©e (pente de calibration nulle?).",
        "isotherm_error_ce_qe_calc_general": "Erreur lors du calcul Ce/qe pour l'isotherme: {e}",
        "isotherm_calculated_data_header": "##### Donn√©es Calcul√©es (Ce vs qe)",
        "isotherm_download_data_button": "üì• DL Donn√©es Isotherme (Ce/qe)",
        "isotherm_download_data_filename": "isotherme_results.csv",
        "isotherm_exp_plot_header": "##### Courbe exp√©rimentale d'adsorption (qe vs Ce)",
        "isotherm_exp_plot_legend": "Donn√©es exp√©rimentales",
        "isotherm_download_exp_plot_filename": "courbe_experimentale_qe_Ce.png",
        "isotherm_exp_plot_error": "Erreur lors du tra√ßage de la courbe exp√©rimentale : {e_exp_plot}",
        "isotherm_linearization_header": "##### Lin√©arisation des Mod√®les",
        "isotherm_linearization_caption": "Les param√®tres (qm, KL, KF, n, KT, B‚ÇÅ) sont d√©termin√©s √† partir de ces r√©gressions lin√©aires.",
        "isotherm_langmuir_lin_header": "###### Langmuir Lin√©aris√© (Ce/qe vs Ce)", 
        "isotherm_insufficient_variation_warning": "Variation insuffisante dans {var1} ou {var2} pour la r√©gression {model}.",
        "isotherm_lin_plot_legend_fit": "Ajustement Lin√©aire",
        "isotherm_langmuir_lin_caption": "Pente = {slope_L_lin:.4f} (1 / qm), Intercept = {intercept_L_lin:.4f} (1 / (qm¬∑KL))",
        "isotherm_download_langmuir_lin_Ce_div_qe_filename": "langmuir_lineaire_Ce_div_qe.png",
        "isotherm_error_export_langmuir_lin_Ce_div_qe": "Erreur export Langmuir lin√©aris√© (Ce/qe vs Ce): {e}",
        "isotherm_error_langmuir_lin_regression": "Erreur r√©gression Langmuir lin√©aris√©: {ve}",
        "isotherm_error_langmuir_lin_plot_creation": "Erreur lors de la cr√©ation du graphique Langmuir lin√©aris√©: {e_lin_L}",
        "isotherm_no_valid_data_langmuir_lin": "Pas de donn√©es valides (Ce>0, qe>0) pour le graphique Langmuir lin√©aris√©.",
        "isotherm_freundlich_lin_header": "###### Freundlich Lin√©aris√© (ln qe vs ln Ce)", 
        "isotherm_warning_filter_log_freundlich": "Filtrage Ce>0 et qe>0 appliqu√© pour le log Freundlich.",
        "isotherm_info_no_valid_data_freundlich_lin": "Pas de donn√©es valides (Ce>0, qe>0) pour le graphique Freundlich lin√©aris√©.",
        "isotherm_freundlich_lin_caption": "Pente = {slope_F_lin:.4f} (1/n), Intercept = {intercept_F_lin:.4f} (ln KF)\nKF = exp({intercept_F_lin:.4f}) = {KF_F_lin:.4f}", 
        "isotherm_download_freundlich_lin_filename": "freundlich_lineaire.png",
        "isotherm_error_export_freundlich_lin": "Erreur export Freundlich lin√©aris√© : {e}",
        "isotherm_error_freundlich_lin_regression": "Erreur r√©gression Freundlich lin√©aris√©: {ve}",
        "isotherm_error_freundlich_lin_plot_creation": "Erreur lors de la cr√©ation du graphique Freundlich lin√©aris√©: {e_lin_F}",
        "isotherm_derived_params_header": "##### Param√®tres D√©riv√©s des Mod√®les Lin√©aris√©s",
        "isotherm_info_params_not_calculated": "Les param√®tres n'ont pas pu √™tre calcul√©s √† partir des ajustements lin√©aris√©s (v√©rifiez les donn√©es, les graphiques et les messages).",
        "isotherm_warning_less_than_2_points_lin_fit": "Moins de 2 points de donn√©es avec Ce > 0 et qe > 0. Impossible de r√©aliser les ajustements lin√©aris√©s.",
        "isotherm_warning_ce_qe_no_results": "Le calcul Ce/qe n'a produit aucun r√©sultat valide (v√©rifiez la calibration et les donn√©es d'entr√©e).",
        "isotherm_warning_provide_calib_data": "Veuillez d'abord fournir des donn√©es d'√©talonnage valides et calculer les param√®tres.",
        "isotherm_info_enter_isotherm_data": "Veuillez entrer des donn√©es pour l'√©tude isotherme dans la barre lat√©rale.",
        "isotherm_nonlinear_header": "##### Ajustement des Mod√®les Non-Lin√©aires",
        "isotherm_nonlinear_caption": "Les param√®tres sont d√©termin√©s directement √† partir de l'ajustement de qe vs Ce.",
        "isotherm_langmuir_nl_header": "###### Langmuir Non-Lin√©aire",
        "isotherm_freundlich_nl_header": "###### Freundlich Non-Lin√©aire",
        "isotherm_nl_plot_title": "Ajustement Non-Lin√©aire: {model_name} (R¬≤={r2_nl:.4f})",
        "isotherm_nl_legend_fit": "Ajustement {model_name}",
        "isotherm_langmuir_nl_caption": "Param√®tres: qm = {qm_nl:.3f} mg/g, KL = {KL_nl:.3f} L/mg, R¬≤ = {r2_nl:.4f}",
        "isotherm_freundlich_nl_caption": "Param√®tres: KF = {KF_nl:.3f} (mg/g)(L/mg)¬π/‚Åø, n = {n_nl:.3f}, R¬≤ = {r2_nl:.4f}",
        "isotherm_nl_fitting_spinner": "Ajustement non-lin√©aire pour {model_name}...",
        "isotherm_nl_fit_error": "Erreur lors de l'ajustement non-lin√©aire de {model_name}: {e}",
        "isotherm_derived_params_nl_header": "##### Param√®tres D√©riv√©s des Mod√®les Non-Lin√©aires",
        "isotherm_no_valid_data_nl": "Pas de donn√©es valides (Ce>0, qe>=0) pour l'ajustement non-lin√©aire.",
        "isotherm_temkin_lin_header": "###### Temkin Lin√©aris√© (qe vs ln Ce)",
        "isotherm_temkin_nl_header": "###### Temkin Non-Lin√©aire",
        "isotherm_temkin_lin_caption": "Pente = {slope_T_lin:.3f} (B‚ÇÅ), Intercept = {intercept_T_lin:.3f} (B‚ÇÅ ln K·¥õ)\nK·¥õ = {KT_lin:.3f} L/mg, B‚ÇÅ = {B1_lin:.3f} mg/g (RT/b·¥õ)",
        "isotherm_temkin_nl_caption": "Param√®tres: B‚ÇÅ = {B1_nl:.3f} mg/g (RT/b·¥õ), K·¥õ = {KT_nl:.3f} L/mg, R¬≤ = {r2_nl:.4f}",
        "isotherm_input_temp_for_bT_label": "Temp√©rature pour calcul b·¥õ (K)",
        "isotherm_bT_calculated": "b·¥õ (calcul√©) = {bT_calc:.2f} J/mol",
        "isotherm_b1_zero_warn": "B‚ÇÅ (pente/param√®tre) est proche de z√©ro, K·¥õ ou b·¥õ ne peut pas √™tre calcul√© de mani√®re fiable.",
        "isotherm_no_valid_data_temkin_lin": "Pas de donn√©es valides (Ce>0, qe>=0) pour le graphique Temkin lin√©aris√©.",


        # Kinetic Tab
        "kinetic_tab_main_header": "Analyse Cin√©tique d'Adsorption",
        "kinetic_nonlinear_header": "1. Mod√®les Non-Lin√©aires (qt vs t)",
        "kinetic_nl_data_display_header": "Param√®tres Cin√©tiques Non-Lin√©aires",
        "kinetic_nl_legend_fit": "Ajustement {model_name}",
        "kinetic_spinner_qt_calc": "Calcul de qt pour la cin√©tique...",
        "kinetic_error_qt_calc_slope_zero": "Erreur lors du calcul de Ct/qt : la pente de l'√©talonnage est nulle ou quasi nulle.",
        "kinetic_success_qt_calc": "Calcul de qt pour la cin√©tique termin√©.",
        "kinetic_error_qt_calc_div_by_zero": "Erreur lors du calcul de Ct/qt : division par z√©ro d√©tect√©e (pente d'√©talonnage nulle ?).",
        "kinetic_error_qt_calc_general": "Erreur lors du calcul de qt pour la cin√©tique : {e_qt}",
        "kinetic_error_missing_abs_t_col": "Colonne 'Absorbance_t' manquante dans les donn√©es cin√©tiques.",
        "kinetic_error_mass_volume_non_positive": "La masse de l‚Äôadsorbant et le volume doivent √™tre positifs pour le calcul de qt.",
        "kinetic_calculated_data_subheader": "Donn√©es Calcul√©es (qt vs t)",
        "kinetic_download_data_button": "üì• T√©l√©charger Donn√©es Cin√©tiques (qt)",
        "kinetic_download_data_filename": "resultats_cinetiques.csv",
        "kinetic_plot_qt_vs_t_title": "√âvolution de l'Adsorption au Cours du Temps",
        "kinetic_plot_qt_vs_t_xaxis": "Temps (min)",
        "kinetic_plot_qt_vs_t_legend": "Donn√©es Exp.",
        "kinetic_download_qt_vs_t_filename": "qt_vs_temps.png",
        "kinetic_error_export_qt_vs_t": "Erreur lors de l‚Äôexport de qt vs t : {e}",
        "kinetic_error_plot_qt_vs_t": "Erreur lors du tra√ßage qt vs t : {e_qt_plot}",
        "kinetic_spinner_pfo_nl_calc": "Calcul des param√®tres PFO (non lin√©aire)...",
        "kinetic_warning_pfo_nl_calc_failed": "√âchec du calcul des param√®tres PFO (non lin√©aire) : {e}",
        "kinetic_spinner_pso_nl_calc": "Calcul des param√®tres PSO (non lin√©aire)...",
        "kinetic_warning_pso_nl_calc_failed": "√âchec du calcul des param√®tres PSO (non lin√©aire) : {e}",
        "kinetic_spinner_ipd_analysis": "Analyse de la Diffusion Intraparticulaire (IPD)...",
        "kinetic_warning_ipd_insufficient_variation": "Variation insuffisante de ‚àöt ou qt pour la r√©gression IPD.",
        "kinetic_warning_ipd_calc_failed_regression": "√âchec du calcul IPD (r√©gression lin√©aire) : {ve}",
        "kinetic_warning_ipd_calc_failed_general": "√âchec du calcul IPD : {e}",
        "kinetic_warning_ipd_not_enough_points": "Pas assez de points (Temps > 0) pour l‚Äôanalyse IPD.",
        "kinetic_linearized_models_subheader": "2. Analyse des Mod√®les Lin√©aris√©s",
        "kinetic_pfo_lin_header": "###### PFO Lin√©aris√©: ln(qe-qt) vs t",
        "kinetic_warning_pfo_lin_insufficient_variation": "Variation insuffisante pour la r√©gression PFO lin√©aris√©e.",
        "kinetic_pfo_lin_plot_title": "PFO Lin√©aris√© (R¬≤={r2_pfo_lin:.4f})",
        "kinetic_pfo_lin_plot_xaxis": "Temps (min)",
        "kinetic_pfo_lin_caption": "Pente = {slope_pfo_lin:.4f} (-k1), Ordonn√©e = {intercept_pfo_lin:.4f} (ln qe)\nR¬≤ = {r2_pfo_lin:.4f}, k1_lin = {k1_lin:.4f} min‚Åª¬π",
        "kinetic_download_pfo_lin_filename": "pfo_lineaire.png",
        "kinetic_error_export_pfo_lin": "Erreur lors de l‚Äôexport du PFO lin√©aris√© : {e}",
        "kinetic_error_pfo_lin_plot_regression": "Erreur dans le trac√© du PFO lin√©aris√© (r√©gression) : {ve}",
        "kinetic_error_pfo_lin_plot_general": "Erreur dans le trac√© du PFO lin√©aris√© : {e_pfo_lin}",
        "kinetic_warning_pfo_lin_not_enough_points": "Pas assez de points valides (t>0, qt < qe_calc) pour le trac√© PFO lin√©aris√©.",
        "kinetic_warning_pfo_nl_calc_required": "Le calcul non lin√©aire des param√®tres PFO (pour qe) est requis mais a √©chou√©.",
        "kinetic_info_pfo_lin_uses_nl_qe": "Le trac√© du PFO lin√©aris√© utilise la valeur `qe` d√©termin√©e par ajustement non lin√©aire.",
        "kinetic_pso_lin_header": "###### PSO Lin√©aris√©: t/qt vs t",
        "kinetic_warning_pso_lin_insufficient_variation": "Variation insuffisante pour la r√©gression PSO lin√©aris√©e.",
        "kinetic_pso_lin_plot_title": "PSO Lin√©aris√© (R¬≤={r2_pso_lin:.4f})",
        "kinetic_pso_lin_caption": "Pente = {slope_pso_lin:.4f} (1/qe), Ordonn√©e = {intercept_pso_lin:.4f} (1/(k2¬∑qe¬≤))\nR¬≤ = {r2_pso_lin:.4f}, qe_lin = {qe_lin:.3f} mg/g, k2_lin = {k2_lin:.4f} g¬∑mg‚Åª¬π¬∑min‚Åª¬π",
        "kinetic_download_pso_lin_filename": "pso_lineaire.png",
        "kinetic_error_export_pso_lin": "Erreur lors de l‚Äôexport du PSO lin√©aris√© : {e}",
        "kinetic_error_pso_lin_plot_regression": "Erreur dans le trac√© du PSO lin√©aris√© (r√©gression) : {ve}",
        "kinetic_error_pso_lin_plot_general": "Erreur dans le trac√© du PSO lin√©aris√© : {e_pso_lin}",
        "kinetic_warning_pso_lin_not_enough_points": "Pas assez de points valides (t>0 et qt>0) pour le trac√© PSO lin√©aris√©.",
        "kinetic_ipd_subheader": "Diffusion Intraparticulaire (IPD)",
        "kinetic_ipd_plot_title": "qt vs ‚àöTemps",
        "kinetic_ipd_plot_xaxis": "‚àöTemps (min‚Å∞‚Åµ)",
        "kinetic_ipd_plot_legend_fit": "Ajustement IPD Global (R¬≤={r2_ipd:.3f})",
        "kinetic_ipd_caption_params": "Param√®tres IPD (global) : k_id = {k_id:.4f} mg¬∑g‚Åª¬π¬∑min‚Åª‚Å∞‚Åµ, C = {C_ipd:.3f} mg¬∑g‚Åª¬π, R¬≤ = {R2_IPD:.4f}",
        "kinetic_ipd_caption_interp": "Si la droite ne passe pas par l‚Äôorigine (C ‚â† 0), la diffusion intraparticulaire n‚Äôest pas l‚Äôunique √©tape limitante.",
        "kinetic_download_ipd_lin_filename": "ipd_lineaire.png",
        "kinetic_error_export_ipd_lin": "Erreur lors de l‚Äôexport de l‚ÄôIPD lin√©aire : {e}",
        "kinetic_warning_ipd_params_calc_failed": "√âchec du calcul des param√®tres IPD.",
        "kinetic_info_ipd_fit_unavailable": "Ajustement IPD indisponible (pas assez de points ou erreur de calcul).",
        "kinetic_warning_no_data_for_ipd": "Aucune donn√©e cin√©tique √† tracer pour l‚ÄôIPD.",
        "kinetic_warning_less_than_3_points": "Moins de 3 points de donn√©es cin√©tiques disponibles. Impossible d‚Äôanalyser les mod√®les.",
        "kinetic_warning_qt_calc_no_results": "Le calcul de qt n‚Äôa produit aucun r√©sultat valide.",
        "kinetic_warning_provide_calib_data": "Veuillez d'abord fournir des donn√©es d‚Äô√©talonnage valides.",
        "kinetic_info_enter_kinetic_data": "Veuillez entrer les donn√©es pour l‚Äô√©tude cin√©tique.",

        # pH Effect Tab
        "ph_effect_tab_header": "Effet du pH sur la Capacit√© d'Adsorption (qe)",
        "ph_effect_spinner_ce_qe": "Calcul Ce/qe pour effet pH...",
        "ph_effect_error_slope_zero": "Erreur calcul Ce/qe: Pente de calibration nulle.",
        "ph_effect_error_mass_non_positive": "Erreur calcul qe: Masse fixe non positive ({m_fixed}g).",
        "ph_effect_success_ce_qe_calc": "Calcul Ce/qe pour effet pH termin√©.",
        "ph_effect_warning_no_valid_points": "Aucun point pH valide apr√®s calcul Ce/qe.",
        "ph_effect_error_ce_qe_calc_general": "Erreur lors du calcul Ce/qe pour l'effet pH: {e}",
        "ph_effect_calculated_data_header": "##### Donn√©es Calcul√©es (qe vs pH)",
        "ph_effect_conditions_caption": "Conditions fixes: C0={C0}mg/L, m={m}g, V={V}L",
        "ph_effect_download_data_button": "üì• DL Donn√©es Effet pH",
        "ph_effect_download_data_filename": "effet_ph_results.csv",
        "ph_effect_plot_header": "##### Graphique qe vs pH",
        "ph_effect_plot_title": "Effet du pH sur qe",
        "ph_effect_plot_legend_trend": "Tendance",
        "ph_effect_download_styled_plot_filename": "effet_ph_stylise.png",
        "ph_effect_error_export_styled_plot": "Erreur export figure pH : {e_export_ph}",
        "ph_effect_error_plot_general": "Erreur lors du tra√ßage Effet pH: {e_ph_plot}",
        "ph_effect_warning_ce_qe_no_results": "Le calcul Ce/qe n'a produit aucun r√©sultat valide pour l'effet pH.",
        "ph_effect_info_enter_ph_data": "Veuillez entrer des donn√©es pour l'√©tude de l'effet du pH.",

        # Dosage Tab
        "dosage_tab_header": "Effet de la Dose d'Adsorbant (Masse)",
        "dosage_spinner_ce_qe": "Calcul Ce/qe pour effet dosage...",
        "dosage_error_slope_zero": "Erreur calcul Ce/qe: Pente de calibration nulle.",
        "dosage_error_volume_non_positive": "Erreur calcul qe: Volume fixe ({v_fixed}L) non valide.",
        "dosage_success_ce_qe_calc": "Calcul Ce/qe pour effet dosage termin√©.",
        "dosage_warning_no_valid_points": "Aucun point de dosage valide apr√®s calcul Ce/qe.",
        "dosage_error_ce_qe_calc_general": "Erreur lors du calcul Ce/qe pour l'effet dosage: {calc_err_dos}",
        "dosage_error_ce_qe_calc_unexpected": "Erreur inattendue lors du calcul Ce/qe pour l'effet dosage: {e}",
        "dosage_calculated_data_header": "##### Donn√©es Calcul√©es (qe vs Masse Adsorbant)",
        "dosage_conditions_caption": "Conditions fixes: C0={C0}mg/L, V={V}L",
        "dosage_download_data_button": "üì• DL Donn√©es Effet Dosage",
        "dosage_download_data_filename": "effet_dosage_results.csv",
        "dosage_plot_header": "##### Graphique qe vs Masse Adsorbant",
        "dosage_plot_title": "Effet de la Masse d'Adsorbant sur qe",
        "dosage_plot_xaxis": "Masse Adsorbant (g)",
        "dosage_plot_legend_trend": "Tendance",
        "dosage_download_styled_plot_filename": "effet_dosage_stylise.png",
        "dosage_error_export_styled_plot": "Erreur export figure dosage : {e_export_dos}",
        "dosage_error_plot_general": "Erreur lors du tra√ßage Effet Dosage: {e_dos_plot}",
        "dosage_warning_ce_qe_no_results": "Le calcul Ce/qe n'a produit aucun r√©sultat valide pour l'effet dosage.",
        "dosage_info_enter_dosage_data": "Veuillez entrer des donn√©es pour l'√©tude de l'effet de la dose (masse adsorbant).",

        # Temperature Effect Tab
        "temp_effect_tab_header": "Effet de la Temp√©rature sur la Capacit√© d'Adsorption (qe)",
        "temp_effect_spinner_ce_qe": "Calcul Ce/qe pour effet T¬∞...",
        "temp_effect_error_slope_zero": "Erreur calcul Ce/qe: Pente de calibration nulle.",
        "temp_effect_error_mass_non_positive": "Erreur calcul qe: Masse fixe non positive ({m_fixed}g).",
        "temp_effect_success_ce_qe_calc": "Calcul Ce/qe pour effet T¬∞ termin√©.",
        "temp_effect_warning_no_valid_points": "Aucun point T¬∞ valide apr√®s calcul Ce/qe.",
        "temp_effect_error_ce_qe_calc_general": "Erreur lors du calcul Ce/qe pour l'effet T¬∞: {e}",
        "temp_effect_calculated_data_header": "##### Donn√©es Calcul√©es (qe vs T¬∞)",
        "temp_effect_conditions_caption": "Conditions fixes: C0={C0}mg/L, m={m}g, V={V}L",
        "temp_effect_download_data_button": "üì• DL Donn√©es Effet T¬∞",
        "temp_effect_download_data_filename": "effet_temp_results.csv",
        "temp_effect_plot_header": "##### Graphique qe vs T¬∞",
        "temp_effect_plot_title": "Effet de la T¬∞ sur qe",
        "temp_effect_plot_xaxis": "Temp√©rature (¬∞C)",
        "temp_effect_plot_legend_trend": "Tendance",
        "temp_effect_download_styled_plot_filename": "effet_temperature_stylise.png",
        "temp_effect_error_export_styled_plot": "Erreur export figure temp√©rature : {e_export_temp}",
        "temp_effect_error_plot_general": "Erreur lors du tra√ßage Effet T¬∞: {e_t_plot}",
        "temp_effect_warning_ce_qe_no_results": "Le calcul Ce/qe n'a produit aucun r√©sultat valide pour l'effet T¬∞.",
        "temp_effect_info_enter_temp_data": "Veuillez entrer des donn√©es pour l'√©tude de l'effet de la temp√©rature.",

        # Thermodynamics Tab
        "thermo_tab_header": "Analyse Thermodynamique",
        "thermo_tab_intro_markdown": """
        Cette analyse utilise les donn√©es de l'√©tude **Effet Temp√©rature**.
        Elle calcule Kd = qe / Ce (L/g) puis utilise **Van't Hoff** (ln(Kd) vs 1/T) pour d√©terminer ŒîH¬∞ et ŒîS¬∞.
        """,
        "thermo_spinner_analysis": "Analyse thermodynamique bas√©e sur Kd...",
        "thermo_warning_insufficient_variation_vant_hoff": "Analyse Van't Hoff impossible: variation insuffisante dans 1/T ou ln(Kd).",
        "thermo_success_analysis_kd": "Analyse thermodynamique bas√©e sur Kd termin√©e.",
        "thermo_warning_not_enough_distinct_temps_kd": "Pas assez de T¬∞ distinctes avec Kd > 0 pour Van't Hoff.",
        "thermo_error_vant_hoff_kd": "Erreur analyse Van't Hoff (Kd): {e_vth}",
        "thermo_warning_not_enough_distinct_temps_ce": "Moins de 2 T¬∞ distinctes avec Ce > 0 pour l'analyse thermo.",
        "thermo_calculated_params_header": "#### Param√®tres Thermodynamiques Calcul√©s",
        "thermo_delta_h_help": "< 0: Exothermique, > 0: Endothermique.",
        "thermo_delta_s_help": "> 0: Augmentation d√©sordre.",
        "thermo_r2_vant_hoff_help": "Qualit√© ajustement ln(Kd) vs 1/T.",
        "thermo_delta_g_header": "ŒîG¬∞ (kJ/mol) √† diff√©rentes T¬∞:",
        "thermo_delta_g_spontaneous_caption": "ŒîG¬∞ < 0 : Spontan√©.",
        "thermo_delta_g_not_calculated": "Non calcul√©.",
        "thermo_vant_hoff_plot_header": "#### Graphique de Van't Hoff (ln(Kd) vs 1/T)",
        "thermo_vant_hoff_plot_title": "Graphique de Van't Hoff",
        "thermo_vant_hoff_plot_legend_fit": "Ajustement Lin√©aire (R¬≤={r2_vt:.3f})",
        "thermo_download_vant_hoff_styled_filename": "vant_hoff_stylise.png",
        "thermo_error_export_vant_hoff_styled": "Erreur export Van‚Äôt Hoff stylis√© : {e}",
        "thermo_error_plot_vant_hoff": "Erreur tra√ßage Van't Hoff: {e_vt_plot}",
        "thermo_kd_coeffs_header": "##### Coefficients de Distribution (Kd) utilis√©s",
        "thermo_kd_table_temp_c": "Temp√©rature (¬∞C)",
        "thermo_kd_unavailable": "Non disponible.",
        "thermo_download_params_kd_button": "üì• DL Param√®tres Thermo (Kd)",
        "thermo_download_params_kd_filename": "params_thermo_kd.csv",
        "thermo_download_data_vant_hoff_kd_button": "üì• DL Donn√©es Van't Hoff (Kd)",
        "thermo_download_data_vant_hoff_kd_filename": "vant_hoff_data_kd.csv",
        "thermo_info_provide_temp_data": "Veuillez fournir des donn√©es valides pour l'√©tude Effet T¬∞.",
        "thermo_warning_less_than_2_distinct_temps": "Moins de 2 T¬∞ distinctes pour l'analyse thermo.",
        "thermo_warning_analysis_not_done_kd": "Analyse thermo bas√©e sur Kd non r√©alis√©e (v√©rifiez messages/donn√©es).",
        "thermo_warning_params_calculated_differently": "Param√®tres thermo existants calcul√©s diff√©remment. R√©initialisez si besoin.",
    },
    "en": {
        # General App
        "app_page_title": "Detailed Adsorption Analysis",
        "app_title": "üî¨ Detailed Adsorption Analysis",
        "app_subtitle": "Enter your data by study type in the sidebar and explore the results in the tabs.",
        "language_select_label": "Language / Langue",

        # Sidebar
        "sidebar_header": "‚öôÔ∏è Settings and Input Data",
        "sidebar_expander_calib": "1. Calibration",
        "sidebar_calib_intro": "Concentration vs. Absorbance:",
        "sidebar_expander_isotherm": "2. Isotherm Study",
        "sidebar_isotherm_fixed_conditions": "Fixed conditions for this isotherm:",
        "sidebar_isotherm_mass_label": "Ads. Mass (g)",
        "sidebar_isotherm_mass_help": "Mass of adsorbent used",
        "sidebar_isotherm_volume_label": "Sol. Volume (L)",
        "sidebar_isotherm_volume_help": "Volume of adsorbate solution",
        "sidebar_isotherm_c0_abs_intro": "Enter C0 (variable) vs. Absorbance Eq.:",
        "sidebar_expander_kinetic": "5. Kinetic Study",
        "sidebar_kinetic_fixed_conditions": "Fixed conditions for ONE kinetic experiment:",
        "sidebar_kinetic_c0_help_const": "Constant initial concentration",
        "sidebar_kinetic_mass_help_const": "Constant adsorbent mass",
        "sidebar_kinetic_volume_help_const": "Constant solution volume",
        "sidebar_kinetic_time_abs_intro": "Enter Time (variable) vs. Absorbance(t):",
        "sidebar_expander_ph": "3. pH Effect Study",
        "sidebar_ph_fixed_conditions": "Fixed conditions for pH study:",
        "sidebar_ph_ph_abs_intro": "Enter pH (variable) vs. Absorbance Eq.:",
        "sidebar_expander_temp": "4. Temperature Effect Study",
        "sidebar_temp_fixed_conditions": "Fixed conditions for T¬∞ study:",
        "sidebar_temp_temp_abs_intro": "Enter T¬∞ (variable) vs. Absorbance Eq.:",
        "sidebar_expander_dosage": "6. Dosage Study",
        "sidebar_dosage_fixed_conditions": "Fixed conditions for mass study:",
        "sidebar_dosage_mass_abs_intro": "Enter Ads. Mass vs. Absorbance Eq.:",

        # Data Editor Column Configs
        "col_concentration_help": "Standard concentration (mg/L or equivalent unit)",
        "col_absorbance": "Absorbance",
        "col_absorbance_help": "Corresponding measured absorbance",
        "col_c0_help": "Initial adsorbate concentration",
        "col_abs_eq_help": "Measured absorbance at equilibrium",
        "col_time_min": "Time (min)",
        "col_time_min_help": "Time elapsed since start",
        "col_abs_t_help": "Measured absorbance at time t",
        "col_ph_help": "Variable pH of the experiment",
        "col_temp_c_help": "Variable temperature of the experiment",
        "col_mass_ads_g_help_variable": "Variable mass of adsorbent used",

        # Validation Messages
        "validate_missing_cols_warning": "Missing required columns: {missing_cols}. Please add them.",
        "validate_col_not_found_error": "Required column '{col}' not found during validation.",
        "validate_mass_non_positive_warning": "Column 'Masse_Adsorbant_g' (Adsorbent Mass) contains non-positive values. These rows will be ignored.",
        "validate_volume_non_positive_warning": "Column 'Volume_L' (Volume) contains non-positive values. These rows will be ignored.",
        "validate_n_valid_points_success": "{count} valid points.",
        "validate_no_valid_points_warning": "No valid points after numerical conversion and filtering. Check your inputs.",
        "validate_error_message": "Validation error: {error}",
        "validate_enter_data_info": "Enter at least one data point.",

        # Calibration Specific
        "calib_slope_near_zero_warning": "Calibration slope close to zero. Check data.",
        "calib_error_calc_warning": "Calibration calculation error: {error}",

        # Main Area
        "main_results_header": "üìä Results and Analyses",
        "tab_calib": " Calibration ",
        "tab_isotherm": " Isotherms ",
        "tab_kinetic": " Kinetics ",
        "tab_ph": " pH Effect ",
        "tab_dosage": " Dosage ",
        "tab_temp": " T¬∞ Effect ",
        "tab_thermo": " Thermodynamics ",

        # Calibration Tab
        "calib_tab_subheader": "Calibration Curve",
        "calib_tab_plot_title": "Absorbance vs. Concentration",
        "calib_tab_legend_exp": "Experimental points",
        "calib_tab_legend_reg": "Linear regression",
        "calib_tab_styled_xaxis_label": "Concentration (mg/L)",
        "download_png_button": "üì• Download Figure (PNG)",
        "calib_tab_download_styled_png_filename": "calibration_styled.png",
        "calib_tab_params_header": "Calibration Parameters",
        "calib_tab_slope_metric": "Slope (A / (mg/L))",
        "calib_tab_r2_metric": "Coefficient of Determination (R¬≤)",
        "calib_tab_min_2_points_warning": "At least 2 valid data points are required for calibration.",
        "calib_tab_params_not_calc_warning": "Calibration parameters could not be calculated. Check data.",
        "calib_tab_raw_data_plot_title": "Raw Calibration Data",
        "calib_tab_enter_data_info": "Enter valid calibration data in the sidebar.",
        "calib_plot_error_warning": "Error creating calibration plot: {e_plot}",

        # Isotherm Tab
        "isotherm_tab_subheader": "Adsorption Isotherm Analysis",
        "isotherm_spinner_ce_qe": "Calculating Ce/qe for isotherms...",
        "isotherm_error_slope_zero": "Error calculating Ce/qe: Calibration slope is zero or near zero.",
        "isotherm_error_mass_non_positive": "Non-positive adsorbent mass ({m_adsorbant}g) for C0={c0}. This point will be ignored.",
        "isotherm_warning_no_valid_points": "No valid isotherm data points after Ce/qe calculation and mass check.",
        "isotherm_success_ce_qe_calc": "Ce/qe calculation for isotherms complete.",
        "isotherm_error_div_by_zero": "Error calculating Ce/qe: Division by zero detected (calibration slope zero?).",
        "isotherm_error_ce_qe_calc_general": "Error calculating Ce/qe for isotherm: {e}",
        "isotherm_calculated_data_header": "##### Calculated Data (Ce vs qe)",
        "isotherm_download_data_button": "üì• DL Isotherm Data (Ce/qe)",
        "isotherm_download_data_filename": "isotherm_results.csv",
        "isotherm_exp_plot_header": "##### Experimental Adsorption Curve (qe vs Ce)",
        "isotherm_exp_plot_legend": "Experimental data",
        "isotherm_download_exp_plot_filename": "experimental_curve_qe_Ce.png",
        "isotherm_exp_plot_error": "Error plotting experimental curve: {e_exp_plot}",
        "isotherm_linearization_header": "##### Model Linearization",
        "isotherm_linearization_caption": "Parameters (qm, KL, KF, n, KT, B‚ÇÅ) are determined from these linear regressions.",
        "isotherm_langmuir_lin_header": "###### Linearized Langmuir (Ce/qe vs Ce)", 
        "isotherm_insufficient_variation_warning": "Insufficient variation in {var1} or {var2} for {model} regression.",
        "isotherm_lin_plot_legend_fit": "Linear Fit",
        "isotherm_langmuir_lin_caption": "Slope = {slope_L_lin:.4f} (1 / qm), Intercept = {intercept_L_lin:.4f} (1 / (qm¬∑KL))",
        "isotherm_download_langmuir_lin_Ce_div_qe_filename": "langmuir_linear_Ce_div_qe.png",
        "isotherm_error_export_langmuir_lin_Ce_div_qe": "Error exporting linearized Langmuir (Ce/qe vs Ce): {e}",
        "isotherm_error_langmuir_lin_regression": "Error in linearized Langmuir regression: {ve}",
        "isotherm_error_langmuir_lin_plot_creation": "Error creating linearized Langmuir plot: {e_lin_L}",
        "isotherm_no_valid_data_langmuir_lin": "No valid data (Ce>0, qe>0) for linearized Langmuir plot.",
        "isotherm_freundlich_lin_header": "###### Linearized Freundlich (ln qe vs ln Ce)", 
        "isotherm_warning_filter_log_freundlich": "Filtering Ce>0 and qe>0 applied for the log Freundlich.",
        "isotherm_info_no_valid_data_freundlich_lin": "No valid data (Ce>0, qe>0) for linearized Freundlich plot.",
        "isotherm_freundlich_lin_caption": "Pente = {slope_F_lin:.4f} (1/n), Intercept = {intercept_F_lin:.4f} (ln KF)\nKF = exp({intercept_F_lin:.4f}) = {KF_F_lin:.4f}", 
        "isotherm_download_freundlich_lin_filename": "freundlich_linear.png",
        "isotherm_error_export_freundlich_lin": "Error exporting linearized Freundlich: {e}",
        "isotherm_error_freundlich_lin_regression": "Error in linearized Freundlich regression: {ve}",
        "isotherm_error_freundlich_lin_plot_creation": "Error creating linearized Freundlich plot: {e_lin_F}",
        "isotherm_derived_params_header": "##### Parameters Derived from Linearized Models",
        "isotherm_info_params_not_calculated": "Parameters could not be calculated from linearized fits (check data, plots, and messages).",
        "isotherm_warning_less_than_2_points_lin_fit": "Fewer than 2 data points with Ce > 0 and qe > 0. Cannot perform linearized fits.",
        "isotherm_warning_ce_qe_no_results": "Ce/qe calculation produced no valid results (check calibration and input data).",
        "isotherm_warning_provide_calib_data": "Please provide valid calibration data and calculate parameters first.",
        "isotherm_info_enter_isotherm_data": "Please enter data for the isotherm study in the sidebar.",
        "isotherm_nonlinear_header": "##### Non-Linear Model Fitting",
        "isotherm_nonlinear_caption": "Parameters are determined directly from the qe vs Ce fit.",
        "isotherm_langmuir_nl_header": "###### Non-Linear Langmuir",
        "isotherm_freundlich_nl_header": "###### Non-Linear Freundlich",
        "isotherm_nl_plot_title": "Non-Linear Fit: {model_name} (R¬≤={r2_nl:.4f})",
        "isotherm_nl_legend_fit": "{model_name} Fit",
        "isotherm_langmuir_nl_caption": "Parameters: qm = {qm_nl:.3f} mg/g, KL = {KL_nl:.3f} L/mg, R¬≤ = {r2_nl:.4f}",
        "isotherm_freundlich_nl_caption": "Parameters: KF = {KF_nl:.3f} (mg/g)(L/mg)¬π/‚Åø, n = {n_nl:.3f}, R¬≤ = {r2_nl:.4f}",
        "isotherm_nl_fitting_spinner": "Non-linear fitting for {model_name}...",
        "isotherm_nl_fit_error": "Error during non-linear fitting of {model_name}: {e}",
        "isotherm_derived_params_nl_header": "##### Derived Parameters from Non-Linear Models",
        "isotherm_no_valid_data_nl": "No valid data (Ce>0, qe>=0) for non-linear fitting.",
        "isotherm_temkin_lin_header": "###### Linearized Temkin (qe vs ln Ce)",
        "isotherm_temkin_nl_header": "###### Non-Linear Temkin",
        "isotherm_temkin_lin_caption": "Slope = {slope_T_lin:.3f} (B‚ÇÅ), Intercept = {intercept_T_lin:.3f} (B‚ÇÅ ln K·¥õ)\nK·¥õ = {KT_lin:.3f} L/mg, B‚ÇÅ = {B1_lin:.3f} mg/g (RT/b·¥õ)",
        "isotherm_temkin_nl_caption": "Parameters: B‚ÇÅ = {B1_nl:.3f} mg/g (RT/b·¥õ), K·¥õ = {KT_nl:.3f} L/mg, R¬≤ = {r2_nl:.4f}",
        "isotherm_input_temp_for_bT_label": "Temperature for b·¥õ calculation (K)",
        "isotherm_bT_calculated": "b·¥õ (calculated) = {bT_calc:.2f} J/mol",
        "isotherm_b1_zero_warn": "B‚ÇÅ (slope/parameter) is close to zero, K·¥õ or b·¥õ cannot be reliably calculated.",
        "isotherm_no_valid_data_temkin_lin": "No valid data (Ce>0, qe>=0) for the linearized Temkin plot.",


        # Kinetic Tab
        "kinetic_tab_main_header": "Adsorption Kinetic Analysis",
        "kinetic_nonlinear_header": "1. Non-Linear Models (qt vs t)",
        "kinetic_nl_data_display_header": "Non-Linear Kinetic Parameters",
        "kinetic_nl_legend_fit": "{model_name} Fit",
        "kinetic_spinner_qt_calc": "Calculating qt for kinetics...",
        "kinetic_error_qt_calc_slope_zero": "Error calculating Ct/qt: Calibration slope is zero or near zero.",
        "kinetic_success_qt_calc": "qt calculation for kinetics complete.",
        "kinetic_error_qt_calc_div_by_zero": "Error calculating Ct/qt: Division by zero detected (calibration slope zero?).",
        "kinetic_error_qt_calc_general": "Error calculating qt for kinetics: {e_qt}",
        "kinetic_error_missing_abs_t_col": "'Absorbance_t' column missing in kinetic data.",
        "kinetic_error_mass_volume_non_positive": "Adsorbent mass and volume must be positive for qt calculation.",
        "kinetic_calculated_data_subheader": "Calculated Data (qt vs t)",
        "kinetic_download_data_button": "üì• DL Kinetic Data (qt)",
        "kinetic_download_data_filename": "kinetic_results.csv",
        "kinetic_plot_qt_vs_t_title": "Evolution of Adsorption Over Time",
        "kinetic_plot_qt_vs_t_xaxis": "Time (min)",
        "kinetic_plot_qt_vs_t_legend": "Exp. Data",
        "kinetic_download_qt_vs_t_filename": "qt_vs_time.png",
        "kinetic_error_export_qt_vs_t": "Error exporting qt vs t: {e}",
        "kinetic_error_plot_qt_vs_t": "Error plotting qt vs t: {e_qt_plot}",
        "kinetic_spinner_pfo_nl_calc": "Calculating PFO parameters (non-linear)...",
        "kinetic_warning_pfo_nl_calc_failed": "PFO parameter calculation (non-linear) failed: {e}",
        "kinetic_spinner_pso_nl_calc": "Calculating PSO parameters (non-linear)...",
        "kinetic_warning_pso_nl_calc_failed": "PSO parameter calculation (non-linear) failed: {e}",
        "kinetic_spinner_ipd_analysis": "Intraparticle Diffusion (IPD) Analysis...",
        "kinetic_warning_ipd_insufficient_variation": "Insufficient variation in ‚àöt or qt for IPD regression.",
        "kinetic_warning_ipd_calc_failed_regression": "IPD calculation failed (linear regression): {ve}",
        "kinetic_warning_ipd_calc_failed_general": "IPD calculation failed: {e}",
        "kinetic_warning_ipd_not_enough_points": "Not enough points (Time > 0) for IPD analysis.",
        "kinetic_linearized_models_subheader": "2. Analysis of Linearized Models",
        "kinetic_pfo_lin_header": "###### Linearized PFO: ln(qe-qt) vs t",
        "kinetic_warning_pfo_lin_insufficient_variation": "Insufficient variation for linearized PFO regression.",
        "kinetic_pfo_lin_plot_title": "Linearized PFO (R¬≤={r2_pfo_lin:.4f})",
        "kinetic_pfo_lin_plot_xaxis": "Time (min)",
        "kinetic_pfo_lin_caption": "Slope = {slope_pfo_lin:.4f} (-k1), Intercept = {intercept_pfo_lin:.4f} (ln qe)\nR¬≤ = {r2_pfo_lin:.4f}, k1_lin = {k1_lin:.4f} min‚Åª¬π",
        "kinetic_download_pfo_lin_filename": "pfo_linear.png",
        "kinetic_error_export_pfo_lin": "Error exporting linearized PFO: {e}",
        "kinetic_error_pfo_lin_plot_regression": "Error in linearized PFO plot (regression): {ve}",
        "kinetic_error_pfo_lin_plot_general": "Error in linearized PFO plot: {e_pfo_lin}",
        "kinetic_warning_pfo_lin_not_enough_points": "Not enough valid points (t>0, qt < qe_calc) for linearized PFO plot.",
        "kinetic_warning_pfo_nl_calc_required": "Non-linear PFO parameter calculation (for qe) required but failed.",
        "kinetic_info_pfo_lin_uses_nl_qe": "The linearized PFO plot uses the `qe` value determined by non-linear fitting.",
        "kinetic_pso_lin_header": "###### Linearized PSO: t/qt vs t",
        "kinetic_warning_pso_lin_insufficient_variation": "Insufficient variation for linearized PSO regression.",
        "kinetic_pso_lin_plot_title": "Linearized PSO (R¬≤={r2_pso_lin:.4f})",
        "kinetic_pso_lin_caption": "Slope = {slope_pso_lin:.4f} (1/qe), Intercept = {intercept_pso_lin:.4f} (1/(k2¬∑qe¬≤))\nR¬≤ = {r2_pso_lin:.4f}, qe_lin = {qe_lin:.3f} mg/g, k2_lin = {k2_lin:.4f} g¬∑mg‚Åª¬π¬∑min‚Åª¬π",
        "kinetic_download_pso_lin_filename": "pso_linear.png",
        "kinetic_error_export_pso_lin": "Error exporting linearized PSO: {e}",
        "kinetic_error_pso_lin_plot_regression": "Error in linearized PSO plot (regression): {ve}",
        "kinetic_error_pso_lin_plot_general": "Error in linearized PSO plot: {e_pso_lin}",
        "kinetic_warning_pso_lin_not_enough_points": "Not enough valid points (t>0 and qt>0) for linearized PSO plot.",
        "kinetic_ipd_subheader": "Intraparticle Diffusion (IPD)",
        "kinetic_ipd_plot_title": "qt vs ‚àöTime",
        "kinetic_ipd_plot_xaxis": "‚àöTime (min‚Å∞‚Åµ)",
        "kinetic_ipd_plot_legend_fit": "IPD Fit Global (R¬≤={r2_ipd:.3f})",
        "kinetic_ipd_caption_params": "IPD Parameters (global): k_id = {k_id:.4f} mg¬∑g‚Åª¬π¬∑min‚Åª‚Å∞‚Åµ, C = {C_ipd:.3f} mg¬∑g‚Åª¬π, R¬≤ = {R2_IPD:.4f}",
        "kinetic_ipd_caption_interp": "If the line does not pass through the origin (C ‚â† 0), intraparticle diffusion is not the sole rate-limiting step.",
        "kinetic_download_ipd_lin_filename": "ipd_linear.png",
        "kinetic_error_export_ipd_lin": "Error exporting linearized IPD: {e}",
        "kinetic_warning_ipd_params_calc_failed": "IPD parameter calculation failed.",
        "kinetic_info_ipd_fit_unavailable": "IPD fit unavailable (not enough points or calculation error).",
        "kinetic_warning_no_data_for_ipd": "No kinetic data to plot for IPD.",
        "kinetic_warning_less_than_3_points": "Fewer than 3 kinetic data points available. Cannot analyze models.",
        "kinetic_warning_qt_calc_no_results": "qt calculation produced no valid results.",
        "kinetic_warning_provide_calib_data": "Please provide valid calibration data first.",
        "kinetic_info_enter_kinetic_data": "Please enter data for the kinetic study.",

        # pH Effect Tab
        "ph_effect_tab_header": "Effect of pH on Adsorption Capacity (qe)",
        "ph_effect_spinner_ce_qe": "Calculating Ce/qe for pH effect...",
        "ph_effect_error_slope_zero": "Error calculating Ce/qe: Calibration slope is zero.",
        "ph_effect_error_mass_non_positive": "Error calculating qe: Fixed mass is non-positive ({m_fixed}g).",
        "ph_effect_success_ce_qe_calc": "Ce/qe calculation for pH effect complete.",
        "ph_effect_warning_no_valid_points": "No valid pH points after Ce/qe calculation.",
        "ph_effect_error_ce_qe_calc_general": "Error calculating Ce/qe for pH effect: {e}",
        "ph_effect_calculated_data_header": "##### Calculated Data (qe vs pH)",
        "ph_effect_conditions_caption": "Fixed conditions: C0={C0}mg/L, m={m}g, V={V}L",
        "ph_effect_download_data_button": "üì• DL pH Effect Data",
        "ph_effect_download_data_filename": "ph_effect_results.csv",
        "ph_effect_plot_header": "##### qe vs pH Plot",
        "ph_effect_plot_title": "Effect of pH on qe",
        "ph_effect_plot_legend_trend": "Trend",
        "ph_effect_download_styled_plot_filename": "ph_effect_styled.png",
        "ph_effect_error_export_styled_plot": "Error exporting styled pH figure: {e_export_ph}",
        "ph_effect_error_plot_general": "Error plotting pH Effect: {e_ph_plot}",
        "ph_effect_warning_ce_qe_no_results": "Ce/qe calculation produced no valid results for pH effect.",
        "ph_effect_info_enter_ph_data": "Please enter data for the pH effect study.",

        # Dosage Tab
        "dosage_tab_header": "Effect of Adsorbent Dose (Mass)",
        "dosage_spinner_ce_qe": "Calculating Ce/qe for dosage effect...",
        "dosage_error_slope_zero": "Error calculating Ce/qe: Calibration slope is zero.",
        "dosage_error_volume_non_positive": "Error calculating qe: Fixed volume ({v_fixed}L) is invalid.",
        "dosage_success_ce_qe_calc": "Ce/qe calculation for dosage effect complete.",
        "dosage_warning_no_valid_points": "No valid dosage points after Ce/qe calculation.",
        "dosage_error_ce_qe_calc_general": "Error calculating Ce/qe for dosage effect: {calc_err_dos}",
        "dosage_error_ce_qe_calc_unexpected": "Unexpected error calculating Ce/qe for dosage effect: {e}",
        "dosage_calculated_data_header": "##### Calculated Data (qe vs Adsorbent Mass)",
        "dosage_conditions_caption": "Fixed conditions: C0={C0}mg/L, V={V}L",
        "dosage_download_data_button": "üì• DL Dosage Effect Data",
        "dosage_download_data_filename": "dosage_effect_results.csv",
        "dosage_plot_header": "##### qe vs Adsorbent Mass Plot",
        "dosage_plot_title": "Effect of Adsorbent Mass on qe",
        "dosage_plot_xaxis": "Adsorbent Mass (g)",
        "dosage_plot_legend_trend": "Trend",
        "dosage_download_styled_plot_filename": "dosage_effect_styled.png",
        "dosage_error_export_styled_plot": "Error exporting styled dosage figure: {e_export_dos}",
        "dosage_error_plot_general": "Error plotting Dosage Effect: {e_dos_plot}",
        "dosage_warning_ce_qe_no_results": "Ce/qe calculation produced no valid results for dosage effect.",
        "dosage_info_enter_dosage_data": "Please enter data for the dosage effect study (adsorbent mass).",

        # Temperature Effect Tab
        "temp_effect_tab_header": "Effect of Temperature on Adsorption Capacity (qe)",
        "temp_effect_spinner_ce_qe": "Calculating Ce/qe for T¬∞ effect...",
        "temp_effect_error_slope_zero": "Error calculating Ce/qe: Calibration slope is zero.",
        "temp_effect_error_mass_non_positive": "Error calculating qe: Fixed mass is non-positive ({m_fixed}g).",
        "temp_effect_success_ce_qe_calc": "Ce/qe calculation for T¬∞ effect complete.",
        "temp_effect_warning_no_valid_points": "No valid T¬∞ points after Ce/qe calculation.",
        "temp_effect_error_ce_qe_calc_general": "Error calculating Ce/qe for T¬∞ effect: {e}",
        "temp_effect_calculated_data_header": "##### Calculated Data (qe vs T¬∞)",
        "temp_effect_conditions_caption": "Fixed conditions: C0={C0}mg/L, m={m}g, V={V}L",
        "temp_effect_download_data_button": "üì• DL T¬∞ Effect Data",
        "temp_effect_download_data_filename": "temp_effect_results.csv",
        "temp_effect_plot_header": "##### qe vs T¬∞ Plot",
        "temp_effect_plot_title": "Effect of T¬∞ on qe",
        "temp_effect_plot_xaxis": "Temperature (¬∞C)",
        "temp_effect_plot_legend_trend": "Trend",
        "temp_effect_download_styled_plot_filename": "temperature_effect_styled.png",
        "temp_effect_error_export_styled_plot": "Error exporting styled temperature figure: {e_export_temp}",
        "temp_effect_error_plot_general": "Error plotting T¬∞ Effect: {e_t_plot}",
        "temp_effect_warning_ce_qe_no_results": "Ce/qe calculation produced no valid results for T¬∞ effect.",
        "temp_effect_info_enter_temp_data": "Please enter data for the temperature effect study.",

        # Thermodynamics Tab
        "thermo_tab_header": "Thermodynamic Analysis",
        "thermo_tab_intro_markdown": """
        This analysis uses data from the **Temperature Effect** study.
        It calculates Kd = qe / Ce (L/g) then uses **Van't Hoff** (ln(Kd) vs 1/T) to determine ŒîH¬∞ and ŒîS¬∞.
        """,
        "thermo_spinner_analysis": "Thermodynamic analysis based on Kd...",
        "thermo_warning_insufficient_variation_vant_hoff": "Van't Hoff analysis impossible: insufficient variation in 1/T or ln(Kd).",
        "thermo_success_analysis_kd": "Thermodynamic analysis based on Kd complete.",
        "thermo_warning_not_enough_distinct_temps_kd": "Not enough distinct T¬∞ with Kd > 0 for Van't Hoff.",
        "thermo_error_vant_hoff_kd": "Van't Hoff analysis error (Kd): {e_vth}",
        "thermo_warning_not_enough_distinct_temps_ce": "Fewer than 2 distinct T¬∞ with Ce > 0 for thermo analysis.",
        "thermo_calculated_params_header": "#### Calculated Thermodynamic Parameters",
        "thermo_delta_h_help": "< 0: Exothermic, > 0: Endothermic.",
        "thermo_delta_s_help": "> 0: Increased disorder.",
        "thermo_r2_vant_hoff_help": "Goodness of fit for ln(Kd) vs 1/T.",
        "thermo_delta_g_header": "ŒîG¬∞ (kJ/mol) at different T¬∞:",
        "thermo_delta_g_spontaneous_caption": "ŒîG¬∞ < 0 : Spontaneous.",
        "thermo_delta_g_not_calculated": "Not calculated.",
        "thermo_vant_hoff_plot_header": "#### Van't Hoff Plot (ln(Kd) vs 1/T)",
        "thermo_vant_hoff_plot_title": "Van't Hoff Plot",
        "thermo_vant_hoff_plot_legend_fit": "Linear Fit (R¬≤={r2_vt:.3f})",
        "thermo_download_vant_hoff_styled_filename": "vant_hoff_styled.png",
        "thermo_error_export_vant_hoff_styled": "Error exporting styled Van‚Äôt Hoff: {e}",
        "thermo_error_plot_vant_hoff": "Error plotting Van't Hoff: {e_vt_plot}",
        "thermo_kd_coeffs_header": "##### Distribution Coefficients (Kd) Used",
        "thermo_kd_table_temp_c": "Temperature (¬∞C)",
        "thermo_kd_unavailable": "Not available.",
        "thermo_download_params_kd_button": "üì• DL Thermo Parameters (Kd)",
        "thermo_download_params_kd_filename": "thermo_params_kd.csv",
        "thermo_download_data_vant_hoff_kd_button": "üì• DL Van't Hoff Data (Kd)",
        "thermo_download_data_vant_hoff_kd_filename": "vant_hoff_data_kd.csv",
        "thermo_info_provide_temp_data": "Please provide valid data for the T¬∞ Effect study.",
        "thermo_warning_less_than_2_distinct_temps": "Fewer than 2 distinct T¬∞ for thermo analysis.",
        "thermo_warning_analysis_not_done_kd": "Thermo analysis based on Kd not performed (check messages/data).",
        "thermo_warning_params_calculated_differently": "Existing thermo parameters calculated differently. Reset if needed.",
    },
}

def _t(key, **kwargs):
    lang = st.session_state.get('language', 'en')
    text_template = TRANSLATIONS.get(lang, {}).get(key)

    if text_template is None and lang != 'en':
        text_template = TRANSLATIONS.get('en', {}).get(key)

    if text_template is None:
        if lang != 'fr':
            text_template = TRANSLATIONS.get('fr', {}).get(key)

    if text_template is None:
        return f"LT__{key}"

    if kwargs:
        try:
            return text_template.format(**kwargs)
        except KeyError as e:
            return f"LT_FORMAT_ERROR__{key} ({e})"
    return text_template